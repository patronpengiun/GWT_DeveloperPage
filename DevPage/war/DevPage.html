<!doctype html>
<!-- The DOCTYPE declaration above will set the     -->
<!-- browser's rendering engine into                -->
<!-- "Standards Mode". Replacing this declaration   -->
<!-- with a "Quirks Mode" doctype is not supported. -->

<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=1.0, minimum-scale=1.0, maximum-scale=1.0">
    <link type="text/css" rel="stylesheet" href="DevPage.css">
    <script type="text/javascript" language="javascript" src="devpage/devpage.nocache.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script type="text/javascript" language="javascript">
    	$(document).ready(function(){
    		$('#i18n span').click(function(event){
    			var url = window.location.href;
    			var index = url.search("locale");
    			if (index < 0){
    				if (url.search("\\?") < 0)
    					url += "?locale=" + $(event.target).attr("name");
    				else
    					url += "&locale=" + $(event.target).attr("name");
    			}
    			else{
    				url = url.substring(0,index+7) + $(event.target).attr("name") + url.substring(index+9);
    			}
    			window.location.href = url;
    		});
    	});
    </script>
    <title>Developer Page</title>
    <style>
    	#content .control-label {
    		width: 100px;
    	}
    	
    	#content .form-horizontal .controls{
    		margin-left: 20px;
    		float: left;
    	}
    	
    	#i18n {
    		margin-left: 20px;
    		margin-bottom: 3px;
    	}
    	
    	#i18n img{
    		width: 16px;
    		height: 12px;
    	}
    	
    	#i18n span{
    		margin-right: 8px;
    		cursor: pointer;
    	}
    </style>
  </head>

  <body>
  	<!--   	
  	<div id="fb-root"></div>
  	<div>
  		<fb:login-button show-faces="true" width="200" max-rows="1"></fb:login-button>
  		<button class="storeBtn" id="store-button"></button>
    </div>
    --> 
    <iframe src="javascript:''" id="__gwt_historyFrame" tabIndex='-1' style="position:absolute;width:0;height:0;border:0"></iframe>
    
    <noscript>
      <div style="width: 22em; position: absolute; left: 50%; margin-left: -11em; color: red; background-color: white; border: 1px solid red; padding: 4px; font-family: sans-serif">
        Your web browser must have JavaScript enabled
        in order for this application to display correctly.
      </div>
    </noscript>
    
    <div id="i18n">
    	<span name="en"><img src="en.png" name="en"/> English</span>
    	<span name="zh"><img src="zh-hans.png" name="zh"/> 中文</span>
    </div>

    <div id="NavBar"></div>
    <div id="stage"></div>
    <div id="content"></div>

    
		<div id="prompt-modal"></div>
	
		<div id="signup-modal"></div>
	
	<!-- 
	<script>
      window.fbAsyncInit = function() {
        FB.init({
          appId      : 745520798812858,
          status     : true,
          xfbml      : true
        });
      
      FB.Event.subscribe('auth.authResponseChange', function(response) {
    	    if (response.status === 'connected') {
    	      console.log('Logged in');
    	    } else {
    	      FB.login();
    	    }
    	  });
    	};

      (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (d.getElementById(id)) {return;}
         js = d.createElement(s); js.id = id;
         js.src = "//connect.facebook.net/en_US/all.js";
         fjs.parentNode.insertBefore(js, fjs);
       }(document, 'script', 'facebook-jssdk'));
            
      var storeButton = document.getElementById("store-button"); 	
   	  storeButton.setAttribute('onclick', 'javascript:showStore()');
    	
    	var mainArea = document.getElementById('stage');
    	
    	
			function showStore() {
   			var background = document.createElement('div');
   			background.id = 'modal_background';
   			mainArea.appendChild(background);

   			var storeContainer = document.createElement('div');
   			storeContainer.id = 'store';
   			mainArea.appendChild(storeContainer);

   			var closeStoreButton = document.createElement('div');
   			closeStoreButton.id = 'close_button';
   			closeStoreButton.setAttribute('onclick', 'javascript:closeStore()');
   			mainArea.appendChild(closeStoreButton);

   			buildStore();

   			$(background).animate({'opacity': 1}, 'fast');
   			$(storeContainer).animate({'opacity': 1}, 'normal');
   			$(closeStoreButton).animate({'opacity': 1}, 'normal');
			}

			function closeStore() {
  			$('#store').animate({'opacity': 0}, 'fast', function(){this.remove()});
  			$('#close_button').animate({'opacity': 0}, 'fast', function(){this.remove()});
  			$('#modal_background').animate({'opacity': 0, }, 'normal', function(){this.remove()});
			}
       
    </script>
    -->
    
    <script type="text/javascript" language="javascript" src="store.js"></script>
    
  </body>
</html>
